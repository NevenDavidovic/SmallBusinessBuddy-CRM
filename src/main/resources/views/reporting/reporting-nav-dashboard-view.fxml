<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>
<?import javafx.scene.effect.DropShadow?>

<VBox fx:id="mainPane" spacing="0" style="-fx-background-color: #2c3e50;" xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1" fx:controller="smallbusinessbuddycrm.controllers.utilities.ReportingDashboardController">
    <!-- Content Area for Dynamic Loading -->
    <VBox fx:id="contentArea" VBox.vgrow="ALWAYS">
        <!-- Scrollable Dashboard Content -->
        <ScrollPane fitToWidth="true" style="-fx-background-color: transparent; -fx-background: transparent;" VBox.vgrow="ALWAYS">
            <content>
                <VBox spacing="20" style="-fx-padding: 20;">
                    <!-- Header Section -->
                    <HBox alignment="CENTER" spacing="20" style="-fx-background-color: #34495e; -fx-padding: 20;">
                        <ImageView fitWidth="60" fitHeight="60">
                            <Image url="@../../images/icons/reporting-icon.png"/>
                        </ImageView>
                        <VBox alignment="CENTER" spacing="5">
                            <Label fx:id="analyticsOverviewTitle" text="Analytics Overview" style="-fx-text-fill: white; -fx-font-size: 32px; -fx-font-weight: bold;">
                                <font>
                                    <Font name="System Bold" size="32.0"/>
                                </font>
                            </Label>
                            <Label fx:id="realtimeInsightsSubtitle" text="Real-time Business Insights" style="-fx-text-fill: #bdc3c7; -fx-font-size: 16px;">
                                <font>
                                    <Font size="16.0"/>
                                </font>
                            </Label>
                        </VBox>
                    </HBox>

                    <!-- Main Content Area - Direct GridPane -->
                    <GridPane hgap="20" vgap="20" alignment="TOP_CENTER" style="-fx-padding: 20;" prefWidth="900">
                        <!-- Contacts Card -->
                        <VBox GridPane.rowIndex="0" GridPane.columnIndex="0" spacing="15" style="-fx-background-color: #3498db; -fx-background-radius: 15; -fx-padding: 20; -fx-border-color: #2980b9; -fx-border-width: 2; -fx-border-radius: 15;" prefWidth="250" prefHeight="300" maxWidth="280">
                            <effect>
                                <DropShadow offsetY="3" radius="8" color="#1a252f"/>
                            </effect>
                            <HBox alignment="CENTER_LEFT" spacing="15">
                                <VBox alignment="CENTER" style="-fx-background-color: #2980b9; -fx-background-radius: 10; -fx-padding: 10;">
                                    <ImageView fitWidth="40" fitHeight="40">
                                        <Image url="@../../images/icons/contacts.png"/>
                                    </ImageView>
                                </VBox>
                                <VBox spacing="3">
                                    <Label fx:id="contactsLabel" text="CONTACTS" style="-fx-text-fill: white; -fx-font-size: 12px; -fx-font-weight: bold;">
                                        <font>
                                            <Font name="System Bold" size="12.0"/>
                                        </font>
                                    </Label>
                                    <Label fx:id="pulseMonitorLabel" text="Pulse Monitor" style="-fx-text-fill: white; -fx-font-size: 18px; -fx-font-weight: bold;">
                                        <font>
                                            <Font name="System Bold" size="18.0"/>
                                        </font>
                                    </Label>
                                </VBox>
                            </HBox>
                            <VBox spacing="10">
                                <HBox alignment="CENTER_LEFT" spacing="10">
                                    <VBox alignment="CENTER" style="-fx-background-color: #27ae60; -fx-background-radius: 8; -fx-padding: 8 12;">
                                        <Label fx:id="totalContacts" text="0" style="-fx-text-fill: white; -fx-font-size: 20px; -fx-font-weight: bold;">
                                            <font>
                                                <Font name="System Bold" size="20.0"/>
                                            </font>
                                        </Label>
                                    </VBox>
                                    <Label fx:id="totalRecordsLabel1" text="Total Records" style="-fx-text-fill: white; -fx-font-size: 14px;">
                                        <font>
                                            <Font size="14.0"/>
                                        </font>
                                    </Label>
                                </HBox>
                                <HBox alignment="CENTER_LEFT" spacing="10">
                                    <VBox alignment="CENTER" style="-fx-background-color: #8e44ad; -fx-background-radius: 8; -fx-padding: 8 12;">
                                        <Label fx:id="activeMembers" text="0" style="-fx-text-fill: white; -fx-font-size: 16px; -fx-font-weight: bold;">
                                            <font>
                                                <Font name="System Bold" size="16.0"/>
                                            </font>
                                        </Label>
                                    </VBox>
                                    <Label fx:id="activeMembersLabel1" text="Active Members" style="-fx-text-fill: #ecf0f1; -fx-font-size: 12px;">
                                        <font>
                                            <Font size="12.0"/>
                                        </font>
                                    </Label>
                                </HBox>
                            </VBox>
                            <Button fx:id="contactsReportButton" text="View Analytics" style="-fx-background-color: #2980b9; -fx-text-fill: white; -fx-background-radius: 8; -fx-padding: 10 15; -fx-font-size: 14px; -fx-font-weight: bold;" onAction="#handleContactReportingScreen">
                                <font>
                                    <Font name="System Bold" size="14.0"/>
                                </font>
                            </Button>
                        </VBox>

                        <!-- Youth Card -->
                        <VBox GridPane.rowIndex="0" GridPane.columnIndex="1" spacing="15" style="-fx-background-color: #9b59b6; -fx-background-radius: 15; -fx-padding: 20; -fx-border-color: #8e44ad; -fx-border-width: 2; -fx-border-radius: 15;" prefWidth="250" prefHeight="300" maxWidth="280">
                            <effect>
                                <DropShadow offsetY="3" radius="8" color="#1a252f"/>
                            </effect>
                            <HBox alignment="CENTER_LEFT" spacing="15">
                                <VBox alignment="CENTER" style="-fx-background-color: #8e44ad; -fx-background-radius: 10; -fx-padding: 10;">
                                    <ImageView fitWidth="40" fitHeight="40">
                                        <Image url="@../../images/icons/underaged.png"/>
                                    </ImageView>
                                </VBox>
                                <VBox spacing="3">
                                    <Label fx:id="youthLabel" text="YOUTH" style="-fx-text-fill: white; -fx-font-size: 12px; -fx-font-weight: bold;">
                                        <font>
                                            <Font name="System Bold" size="12.0"/>
                                        </font>
                                    </Label>
                                    <Label fx:id="insightsHubLabel" text="Insights Hub" style="-fx-text-fill: white; -fx-font-size: 18px; -fx-font-weight: bold;">
                                        <font>
                                            <Font name="System Bold" size="18.0"/>
                                        </font>
                                    </Label>
                                </VBox>
                            </HBox>
                            <VBox spacing="10">
                                <HBox alignment="CENTER_LEFT" spacing="10">
                                    <VBox alignment="CENTER" style="-fx-background-color: #27ae60; -fx-background-radius: 8; -fx-padding: 8 12;">
                                        <Label fx:id="totalUnderaged" text="0" style="-fx-text-fill: white; -fx-font-size: 20px; -fx-font-weight: bold;">
                                            <font>
                                                <Font name="System Bold" size="20.0"/>
                                            </font>
                                        </Label>
                                    </VBox>
                                    <Label fx:id="totalRecordsLabel2" text="Total Records" style="-fx-text-fill: white; -fx-font-size: 14px;">
                                        <font>
                                            <Font size="14.0"/>
                                        </font>
                                    </Label>
                                </HBox>
                                <HBox alignment="CENTER_LEFT" spacing="10">
                                    <VBox alignment="CENTER" style="-fx-background-color: #e91e63; -fx-background-radius: 8; -fx-padding: 8 12;">
                                        <Label fx:id="underagedMembers" text="0" style="-fx-text-fill: white; -fx-font-size: 16px; -fx-font-weight: bold;">
                                            <font>
                                                <Font name="System Bold" size="16.0"/>
                                            </font>
                                        </Label>
                                    </VBox>
                                    <Label fx:id="activeMembersLabel2" text="Active Members" style="-fx-text-fill: #ecf0f1; -fx-font-size: 12px;">
                                        <font>
                                            <Font size="12.0"/>
                                        </font>
                                    </Label>
                                </HBox>
                            </VBox>
                            <Button fx:id="underagedReportButton" text="View Analytics" style="-fx-background-color: #8e44ad; -fx-text-fill: white; -fx-background-radius: 8; -fx-padding: 10 15; -fx-font-size: 14px; -fx-font-weight: bold;" onAction="#handleUnderagedReportingScreen">
                                <font>
                                    <Font name="System Bold" size="14.0"/>
                                </font>
                            </Button>
                        </VBox>

                        <!-- Workshops Card -->
                        <VBox GridPane.rowIndex="0" GridPane.columnIndex="2" spacing="15" style="-fx-background-color: #1abc9c; -fx-background-radius: 15; -fx-padding: 20; -fx-border-color: #16a085; -fx-border-width: 2; -fx-border-radius: 15;" prefWidth="250" prefHeight="300" maxWidth="280">
                            <effect>
                                <DropShadow offsetY="3" radius="8" color="#1a252f"/>
                            </effect>
                            <HBox alignment="CENTER_LEFT" spacing="15">
                                <VBox alignment="CENTER" style="-fx-background-color: #16a085; -fx-background-radius: 10; -fx-padding: 10;">
                                    <ImageView fitWidth="40" fitHeight="40">
                                        <Image url="@../../images/icons/workshops.png"/>
                                    </ImageView>
                                </VBox>
                                <VBox spacing="3">
                                    <Label fx:id="workshopsLabel" text="WORKSHOPS" style="-fx-text-fill: white; -fx-font-size: 12px; -fx-font-weight: bold;">
                                        <font>
                                            <Font name="System Bold" size="12.0"/>
                                        </font>
                                    </Label>
                                    <Label fx:id="activityPulseLabel" text="Activity Pulse" style="-fx-text-fill: white; -fx-font-size: 18px; -fx-font-weight: bold;">
                                        <font>
                                            <Font name="System Bold" size="18.0"/>
                                        </font>
                                    </Label>
                                </VBox>
                            </HBox>
                            <VBox spacing="10">
                                <HBox alignment="CENTER_LEFT" spacing="10">
                                    <VBox alignment="CENTER" style="-fx-background-color: #27ae60; -fx-background-radius: 8; -fx-padding: 8 12;">
                                        <Label fx:id="totalWorkshops" text="0" style="-fx-text-fill: white; -fx-font-size: 20px; -fx-font-weight: bold;">
                                            <font>
                                                <Font name="System Bold" size="20.0"/>
                                            </font>
                                        </Label>
                                    </VBox>
                                    <Label fx:id="totalRecordsLabel3" text="Total Records" style="-fx-text-fill: white; -fx-font-size: 14px;">
                                        <font>
                                            <Font size="14.0"/>
                                        </font>
                                    </Label>
                                </HBox>
                                <HBox alignment="CENTER_LEFT" spacing="10">
                                    <VBox alignment="CENTER" style="-fx-background-color: #3498db; -fx-background-radius: 8; -fx-padding: 8 12;">
                                        <Label fx:id="activeWorkshops" text="0" style="-fx-text-fill: white; -fx-font-size: 16px; -fx-font-weight: bold;">
                                            <font>
                                                <Font name="System Bold" size="16.0"/>
                                            </font>
                                        </Label>
                                    </VBox>
                                    <Label fx:id="activeSessionsLabel" text="Active Sessions" style="-fx-text-fill: #ecf0f1; -fx-font-size: 12px;">
                                        <font>
                                            <Font size="12.0"/>
                                        </font>
                                    </Label>
                                </HBox>
                            </VBox>
                            <Button fx:id="workshopsReportButton" text="View Analytics" style="-fx-background-color: #16a085; -fx-text-fill: white; -fx-background-radius: 8; -fx-padding: 10 15; -fx-font-size: 14px; -fx-font-weight: bold;" onAction="#handleWorkshopReportingScreen">
                                <font>
                                    <Font name="System Bold" size="14.0"/>
                                </font>
                            </Button>
                        </VBox>

                        <!-- Teachers Card -->
                        <VBox GridPane.rowIndex="1" GridPane.columnIndex="0" spacing="15" style="-fx-background-color: #e67e22; -fx-background-radius: 15; -fx-padding: 20; -fx-border-color: #d35400; -fx-border-width: 2; -fx-border-radius: 15;" prefWidth="250" prefHeight="300" maxWidth="280">
                            <effect>
                                <DropShadow offsetY="3" radius="8" color="#1a252f"/>
                            </effect>
                            <HBox alignment="CENTER_LEFT" spacing="15">
                                <VBox alignment="CENTER" style="-fx-background-color: #d35400; -fx-background-radius: 10; -fx-padding: 10;">
                                    <ImageView fitWidth="40" fitHeight="40">
                                        <Image url="@../../images/icons/teachers.png"/>
                                    </ImageView>
                                </VBox>
                                <VBox spacing="3">
                                    <Label fx:id="teachersLabel" text="TEACHERS" style="-fx-text-fill: white; -fx-font-size: 12px; -fx-font-weight: bold;">
                                        <font>
                                            <Font name="System Bold" size="12.0"/>
                                        </font>
                                    </Label>
                                    <Label fx:id="educatorHubLabel" text="Educator Hub" style="-fx-text-fill: white; -fx-font-size: 18px; -fx-font-weight: bold;">
                                        <font>
                                            <Font name="System Bold" size="18.0"/>
                                        </font>
                                    </Label>
                                </VBox>
                            </HBox>
                            <VBox spacing="10">
                                <HBox alignment="CENTER_LEFT" spacing="10">
                                    <VBox alignment="CENTER" style="-fx-background-color: #27ae60; -fx-background-radius: 8; -fx-padding: 8 12;">
                                        <Label fx:id="totalTeachers" text="0" style="-fx-text-fill: white; -fx-font-size: 20px; -fx-font-weight: bold;">
                                            <font>
                                                <Font name="System Bold" size="20.0"/>
                                            </font>
                                        </Label>
                                    </VBox>
                                    <Label fx:id="totalRecordsLabel4" text="Total Records" style="-fx-text-fill: white; -fx-font-size: 14px;">
                                        <font>
                                            <Font size="14.0"/>
                                        </font>
                                    </Label>
                                </HBox>
                            </VBox>

                        </VBox>

                        <!-- Lists Card -->
                        <VBox GridPane.rowIndex="1" GridPane.columnIndex="1" spacing="15" style="-fx-background-color: #e74c3c; -fx-background-radius: 15; -fx-padding: 20; -fx-border-color: #c0392b; -fx-border-width: 2; -fx-border-radius: 15;" prefWidth="250" prefHeight="300" maxWidth="280">
                            <effect>
                                <DropShadow offsetY="3" radius="8" color="#1a252f"/>
                            </effect>
                            <HBox alignment="CENTER_LEFT" spacing="15">
                                <VBox alignment="CENTER" style="-fx-background-color: #c0392b; -fx-background-radius: 10; -fx-padding: 10;">
                                    <ImageView fitWidth="40" fitHeight="40">
                                        <Image url="@../../images/icons/lists.png"/>
                                    </ImageView>
                                </VBox>
                                <VBox spacing="3">
                                    <Label fx:id="listsLabel" text="LISTS" style="-fx-text-fill: white; -fx-font-size: 12px; -fx-font-weight: bold;">
                                        <font>
                                            <Font name="System Bold" size="12.0"/>
                                        </font>
                                    </Label>
                                    <Label fx:id="dataManagerLabel" text="Data Manager" style="-fx-text-fill: white; -fx-font-size: 18px; -fx-font-weight: bold;">
                                        <font>
                                            <Font name="System Bold" size="18.0"/>
                                        </font>
                                    </Label>
                                </VBox>
                            </HBox>
                            <VBox spacing="10">
                                <HBox alignment="CENTER_LEFT" spacing="10">
                                    <VBox alignment="CENTER" style="-fx-background-color: #27ae60; -fx-background-radius: 8; -fx-padding: 8 12;">
                                        <Label fx:id="totalLists" text="0" style="-fx-text-fill: white; -fx-font-size: 20px; -fx-font-weight: bold;">
                                            <font>
                                                <Font name="System Bold" size="20.0"/>
                                            </font>
                                        </Label>
                                    </VBox>
                                    <Label fx:id="totalRecordsLabel5" text="Total Records" style="-fx-text-fill: white; -fx-font-size: 14px;">
                                        <font>
                                            <Font size="14.0"/>
                                        </font>
                                    </Label>
                                </HBox>
                                <HBox alignment="CENTER_LEFT" spacing="10">
                                    <VBox alignment="CENTER" style="-fx-background-color: #ad1457; -fx-background-radius: 8; -fx-padding: 8 12;">
                                        <Label fx:id="activeLists" text="0" style="-fx-text-fill: white; -fx-font-size: 16px; -fx-font-weight: bold;">
                                            <font>
                                                <Font name="System Bold" size="16.0"/>
                                            </font>
                                        </Label>
                                    </VBox>
                                    <Label fx:id="activeListsLabel" text="Active Lists" style="-fx-text-fill: #ecf0f1; -fx-font-size: 12px;">
                                        <font>
                                            <Font size="12.0"/>
                                        </font>
                                    </Label>
                                </HBox>
                            </VBox>
                            <Button fx:id="listsReportButton" text="View Analytics" style="-fx-background-color: #c0392b; -fx-text-fill: white; -fx-background-radius: 8; -fx-padding: 10 15; -fx-font-size: 14px; -fx-font-weight: bold;" onAction="#handleListReportingScreen">
                                <font>
                                    <Font name="System Bold" size="14.0"/>
                                </font>
                            </Button>
                        </VBox>

                        <!-- Performance Summary Card -->
                        <VBox GridPane.rowIndex="1" GridPane.columnIndex="2" spacing="15" style="-fx-background-color: #f39c12; -fx-background-radius: 15; -fx-padding: 20; -fx-border-color: #e67e22; -fx-border-width: 2; -fx-border-radius: 15;" prefWidth="250" prefHeight="300" maxWidth="280">
                            <effect>
                                <DropShadow offsetY="3" radius="8" color="#1a252f"/>
                            </effect>
                            <HBox alignment="CENTER_LEFT" spacing="15">
                                <VBox alignment="CENTER" style="-fx-background-color: #e67e22; -fx-background-radius: 10; -fx-padding: 10;">
                                    <ImageView fitWidth="40" fitHeight="40">
                                        <Image url="@../../images/icons/reporting-icon.png"/>
                                    </ImageView>
                                </VBox>
                                <VBox spacing="3">
                                    <Label fx:id="supportLabel" text="SUPPORT" style="-fx-text-fill: white; -fx-font-size: 12px; -fx-font-weight: bold;">
                                        <font>
                                            <Font name="System Bold" size="12.0"/>
                                        </font>
                                    </Label>
                                    <Label fx:id="helpCenterLabel" text="Help Center" style="-fx-text-fill: white; -fx-font-size: 18px; -fx-font-weight: bold;">
                                        <font>
                                            <Font name="System Bold" size="18.0"/>
                                        </font>
                                    </Label>
                                </VBox>
                            </HBox>
                            <VBox spacing="12">
                                <HBox alignment="CENTER_LEFT" spacing="15">
                                    <VBox alignment="CENTER" style="-fx-background-color: #27ae60; -fx-background-radius: 25; -fx-padding: 8;">
                                        <Label text="✅" style="-fx-text-fill: white; -fx-font-size: 14px; -fx-font-weight: bold;">
                                            <font>
                                                <Font name="System Bold" size="14.0"/>
                                            </font>
                                        </Label>
                                    </VBox>
                                    <VBox>
                                        <Label fx:id="reportsManualLabel" text="Reports manual" style="-fx-text-fill: white; -fx-font-size: 14px; -fx-font-weight: bold;">
                                            <font>
                                                <Font name="System Bold" size="14.0"/>
                                            </font>
                                        </Label>
                                        <Label fx:id="howToUseReportsLabel" text="How to use reports" style="-fx-text-fill: #ecf0f1; -fx-font-size: 11px;">
                                            <font>
                                                <Font size="11.0"/>
                                            </font>
                                        </Label>
                                    </VBox>
                                </HBox>
                                <HBox alignment="CENTER_LEFT" spacing="15">
                                    <VBox alignment="CENTER" style="-fx-background-color: #3498db; -fx-background-radius: 25; -fx-padding: 8;">
                                        <Label text="✅" style="-fx-text-fill: white; -fx-font-size: 14px; -fx-font-weight: bold;">
                                            <font>
                                                <Font name="System Bold" size="14.0"/>
                                            </font>
                                        </Label>
                                    </VBox>
                                    <VBox>
                                        <Label fx:id="usefulInfoLabel" text="Useful information" style="-fx-text-fill: white; -fx-font-size: 14px; -fx-font-weight: bold;">
                                            <font>
                                                <Font name="System Bold" size="14.0"/>
                                            </font>
                                        </Label>
                                        <Label fx:id="contactsWorkshopsLabel" text="Contacts, workshops etc..." style="-fx-text-fill: #ecf0f1; -fx-font-size: 11px;">
                                            <font>
                                                <Font size="11.0"/>
                                            </font>
                                        </Label>
                                    </VBox>
                                </HBox>
                            </VBox>
                            <HBox spacing="10" alignment="CENTER">
                                <Button  text="View Help" style="-fx-background-color: #e67e22; -fx-text-fill: white; -fx-background-radius: 8; -fx-padding: 8 12; -fx-font-size: 12px;" onAction="#handleHelpReportingScreen">
                                    <font>
                                        <Font size="12.0"/>
                                    </font>
                                </Button>

                            </HBox>
                        </VBox>
                    </GridPane>

                    <!-- Footer Status Bar -->
                </VBox>
            </content>
        </ScrollPane>
    </VBox>
</VBox>